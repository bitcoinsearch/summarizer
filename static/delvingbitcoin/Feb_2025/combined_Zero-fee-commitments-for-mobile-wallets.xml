<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Zero-fee commitments for mobile wallets</title>
  <updated>2025-02-19T02:20:50.309463+00:00</updated>
  <author>
    <name>t-bast 2025-02-18 14:54:25.455000+00:00</name>
  </author>
  <author>
    <name>harding 2025-02-18 14:31:14.930000+00:00</name>
  </author>
  <author>
    <name>t-bast 2025-02-18 13:06:24.718000+00:00</name>
  </author>
  <link href="delvingbitcoin/Feb_2025/4319_Zero-fee-commitments-for-mobile-wallets.xml" rel="alternate"/>
  <link href="delvingbitcoin/Feb_2025/4317_Zero-fee-commitments-for-mobile-wallets.xml" rel="alternate"/>
  <link href="delvingbitcoin/Feb_2025/4316_Zero-fee-commitments-for-mobile-wallets.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - Zero-fee commitments for mobile wallets</title>
    <updated>2025-02-19T02:20:50.309509+00:00</updated>
    <link href="https://delvingbitcoin.org/t/zero-fee-commitments-for-mobile-wallets/1453" rel="alternate"/>
    <summary>In recent discussions regarding the adaptation of lightning channels for mobile wallets, a key focus has been on ensuring the safety of funds and optimizing transaction fees. A significant concern is the vulnerability of mobile wallets to certain types of attacks due to their inability to relay payments and lack of on-chain utxos. To mitigate these risks, it's been proposed that HTLC transactions within these channels operate with zero fees using anchor outputs, which would allow immediate spending of channel outputs without delay, thus safeguarding against peers broadcasting revoked commitments.

However, this approach introduces a potential exploit where a malicious mobile wallet user can deplete the HTLC amount through excessive fees by fulfilling a batch of HTLCs and later publishing a revoked commitment. This scenario underscores the need for careful fee rate management and monitoring of HTLC transactions to prevent such abuse. To counter this, the suggestion has been made for peers to sign two versions of HTLC transactions: a default no-fee version and a high-fee version tailored to current feerate conditions. This strategy not only prevents undue financial burden on the peer but also incentivizes the mobile wallet to select the appropriate feerate option based on the necessity of transaction urgency and liquidity recovery.

Moreover, the introduction of [zero-fee commitments](https://github.com/lightning/bolts/pull/1228) seeks to address the challenge of confirming force-close transactions solely with existing channel outputs, thereby circumventing the limitations faced by mobile wallets not having on-chain utxos. It allows for penalty transactions in response to revoked commitments and facilitates the confirmation of both commitment and HTLC-success transactions without additional on-chain inputs.

The proposal further highlights various scenarios impacting mobile wallets, including received and sent HTLCs, unresponsive peers without pending HTLCs, and the griefing potential by uncooperative peers. To enhance mobile wallet autonomy and safeguard against these challenges, the idea of signing HTLC transactions at varying feerates has been put forward. This measure ensures mobile wallets can unilaterally force-close channels when necessary, particularly when dealing with received HTLCs or unresponsive peers, thereby minimizing risk and improving operational flexibility.

This ongoing dialogue aims to refine the commitment format for mobile wallets, with community feedback playing a crucial role in shaping the final implementation. The proposed adjustments strive to balance security, efficiency, and user incentives within the lightning network ecosystem, ultimately enhancing the usability and reliability of mobile wallets in conducting transactions.</summary>
    <published>2025-02-18T14:54:25.455000+00:00</published>
  </entry>
</feed>
