<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Disclosure: LND Excessive Failback Exploit</title>
  <updated>2025-03-06T02:23:16.187150+00:00</updated>
  <author>
    <name>morehouse 2025-03-05 19:53:02.250000+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Disclosure: LND Excessive Failback Exploit</title>
    <updated>2025-03-06T02:23:16.187187+00:00</updated>
    <link href="https://delvingbitcoin.org/t/disclosure-lnd-excessive-failback-exploit/1493/3" rel="alternate"/>
    <summary>The complexity of implementing the on-chain logic for a Lightning Network (LN) state machine is significant, with BOLT5 not providing exhaustive guidance, leading to challenges in ensuring correct implementation. A notable issue arises when an HTLC output offered by a local node and included in a remote commitment transaction is not present in the latest commitment transaction. This discrepancy has prompted a proposal for a specification change, aimed at addressing how nodes handle such situations. Specifically, the proposed change, detailed in a [proposed spec change](https://github.com/lightning/bolts/pull/1233), suggests that nodes should not fail back HTLCs if the preimage is known, diverging from previous practices where the absence of an HTLC in the latest commitment transaction would lead to failing the corresponding received HTLC on the incoming pair of commitment transactions.

This proposal emerges against the backdrop of discussions among LN maintainers and developers regarding the handling of certain attack vectors. The introduction of this mechanism carries implications for how LN nodes deal with channel force-closures, particularly in scenarios where there is a significant economic imbalance between the value of the HTLC at risk and the cost associated with on-chain fee for closing the channel. Such situations highlight the dilemma nodes face, weighing the economic viability of claiming an HTLC on-chain against the procedural norm of failing it back off-chainâ€”a decision-making process that remains distinct and unaffected by the proposed changes.

Furthermore, the discourse surrounding the optimal approach to these issues reveals a lack of consensus among LN maintainers regarding whether the decision to fail back should be left to individual implementation policies or configured as a node setting. This ongoing debate underscores the complexity of managing LN's operational parameters and reflects the broader challenges inherent in optimizing the network's functionality while safeguarding against potential vulnerabilities.</summary>
    <published>2025-03-05T19:53:02.250000+00:00</published>
  </entry>
</feed>
