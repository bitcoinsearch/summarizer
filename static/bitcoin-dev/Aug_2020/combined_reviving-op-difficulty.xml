<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - reviving op_difficulty</title>
  <updated>2025-10-12T01:51:11.336975+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <thread>
    <message id="msg_1" depth="0" position="0" anchor="m5e8dd7aa1ac46a28d4a432410039f8080c9e7623">
      <author>[bitcoin-dev] reviving op_difficulty Thomas Hartman</author>
      <timestamp>2020-08-16T15:41:00.000Z</timestamp>
    </message>
    <message id="msg_2" depth="1" position="1" reply_to="[bitcoin-dev] reviving op_difficulty Thomas Hartman" parent_id="mailing-list-2020-08-m5e8dd7aa1ac46a28d4a432410039f8080c9e7623" anchor="m31bee5b984d793bab957fa89cc750a8c53a79392">
      <author>Tier Nolan</author>
      <timestamp>2020-08-16T18:59:00.000Z</timestamp>
    </message>
    <message id="msg_3" depth="1" position="2" reply_to="[bitcoin-dev] reviving op_difficulty Thomas Hartman" parent_id="mailing-list-2020-08-m5e8dd7aa1ac46a28d4a432410039f8080c9e7623" anchor="m139518cec264441ca503d4c5975ce4dcef4cc1d5">
      <author>Anthony Towns</author>
      <timestamp>2020-08-16T22:29:00.000Z</timestamp>
    </message>
    <message id="msg_4" depth="2" position="3" reply_to="Tier Nolan" parent_id="mailing-list-2020-08-m31bee5b984d793bab957fa89cc750a8c53a79392" anchor="m972731bccc64e466b2e98d871674e1a91acd2df9">
      <author>ZmnSCPxj</author>
      <timestamp>2020-08-17T05:04:00.000Z</timestamp>
    </message>
    <message id="msg_5" depth="3" position="4" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-08-m972731bccc64e466b2e98d871674e1a91acd2df9" anchor="mebb96446f80e652cdb9bc019870e42cae7ca5440">
      <author>Thomas Hartman</author>
      <timestamp>2020-08-17T19:48:00.000Z</timestamp>
    </message>
    <message id="msg_6" depth="3" position="5" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-08-m972731bccc64e466b2e98d871674e1a91acd2df9" anchor="mdd445b96c4a1fa8d6b77a1f6c279cb610f1d0c16">
      <author>Tier Nolan</author>
      <timestamp>2020-08-17T21:55:00.000Z</timestamp>
    </message>
    <message id="msg_7" depth="4" position="6" reply_to="Thomas Hartman" parent_id="mailing-list-2020-08-mebb96446f80e652cdb9bc019870e42cae7ca5440" anchor="mbc944c078021bfaeed5d65c8effa5cf96cedea30">
      <author>ZmnSCPxj</author>
      <timestamp>2020-08-17T23:14:00.000Z</timestamp>
    </message>
    <message id="msg_8" depth="2" position="7" reply_to="Tier Nolan" parent_id="mailing-list-2020-08-m31bee5b984d793bab957fa89cc750a8c53a79392" anchor="m068852465d591da9c02300ea578fc7514787a6ca">
      <author>Thomas Hartman</author>
      <timestamp>2020-08-19T21:15:00.000Z</timestamp>
    </message>
    <message id="msg_9" depth="3" position="8" reply_to="Thomas Hartman" parent_id="mailing-list-2020-08-m068852465d591da9c02300ea578fc7514787a6ca" anchor="me9865832106995b260eba586518620be6e2a1730">
      <author>Thomas Hartman</author>
      <timestamp>2020-08-19T23:32:00.000Z</timestamp>
    </message>
    <message id="msg_10" depth="1" position="9" reply_to="[bitcoin-dev] reviving op_difficulty Thomas Hartman" parent_id="mailing-list-2020-08-m5e8dd7aa1ac46a28d4a432410039f8080c9e7623" anchor="m0408de07dc002fede6263324d3b3a98a4cce8e20">
      <author>David A. Harding</author>
      <timestamp>2020-08-22T16:46:00.000Z</timestamp>
    </message>
    <message id="msg_11" depth="5" position="10" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-09-mbc944c078021bfaeed5d65c8effa5cf96cedea30" anchor="m9f1813ecee16fe4682a8f3238cdedfc0f4aa4f3a">
      <author>Thomas Hartman</author>
      <timestamp>2020-09-01T20:07:00.000Z</timestamp>
    </message>
    <message id="msg_12" depth="6" position="11" reply_to="Thomas Hartman" parent_id="mailing-list-2020-09-m9f1813ecee16fe4682a8f3238cdedfc0f4aa4f3a" anchor="m424021e0297633a0867e7f38f36f99e822e19614">
      <author>Thomas Hartman</author>
      <timestamp>2020-09-02T14:40:00.000Z</timestamp>
    </message>
    <message id="msg_13" depth="2" position="12" reply_to="David A. Harding" parent_id="mailing-list-2020-09-m0408de07dc002fede6263324d3b3a98a4cce8e20" anchor="mc72787562c1ee2cd042d21e69ec843b98eb96661">
      <author>Jeremy</author>
      <timestamp>2020-09-02T18:27:00.000Z</timestamp>
    </message>
  </thread>
  <link href="bitcoin-dev/Sept_2020/018150_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2020/018149_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2020/018148_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018129_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018105_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018103_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018095_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018094_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018091_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018090_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018089_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018087_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2020/018085_reviving-op-difficulty.xml" rel="alternate"/>
  <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-September/018150.html" rel="alternate"/>
  <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-September/018150.html" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - reviving op_difficulty</title>
    <updated>2025-10-12T01:51:11.338475+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-September/018150.html" rel="alternate"/>
    <published>2020-09-02T18:27:00+00:00</published>
    <summary>In a recent bitcoin-dev mailing list discussion, there have been proposals and discussions regarding the implementation of difficulty futures in Bitcoin. Tamas Blummer had initially proposed an additional opcode for enabling Bitcoin difficulty futures, but Jeremy Rubin introduced an alternate scheme that does not require changes to the Bitcoin protocol. This scheme takes advantage of the difference in maturation time between timelocks and height-locks caused by changes in difficulty. The proposal involves creating conflicting spends from a multisig, with different nLockTime values based on the current height or time. Depending on the subsequent change in hashrate, either Alice or Bob will receive their payment first. This method can be embedded in a taproot commitment using OP_CLTV or OP_CSV instead of nLockTime.Thomas Hartman expressed admiration for Powswap, a platform that allows users to bet on the future hash rate of the Bitcoin network without protocol changes. However, he raised concerns about watchtowers to prevent fund sweeping by the losing party and the impact on lightning channels. Hartman also suggested the possibility of betting on specific time slices and difficulty thresholds using Powswap. Currently, Powswap only creates contracts from the current time to the future, but Hartman proposed creating synthetic hashrate binaries by subtracting the time from the current time to B from the time from the current time to A. He also questioned the feasibility of betting on the first six blocks after retarget being found under an hour and the new difficulty exceeding a certain threshold.The community mourned the loss of Tamas Blummer, a developer who proposed the opcode for Bitcoin difficulty futures. Jeremy Rubin's scheme was introduced as an alternative method that does not require protocol changes and leverages the difference in maturation time between timelocks and height-locks caused by changes in difficulty. The proposed scheme is compatible with off-chain commitments and can be embedded in a taproot commitment using OP_CLTV or OP_CSV. The author of the discussion proposed using a packed difficulty target instead of using op_diff to calculate the ratio, and expressed their satisfaction with not having to deal with floating point numbers.Tier Nolan proposed a new method for speculation contracts that considers the ratio between future and current difficulty instead of difficulty itself. This ratio can be obtained from packed representations already included in blocks. Nolan provided an example using the current and last difficulties and targets, demonstrating how op_diff could return the ratio for ticks instead of difficulty.The discussion explored the creation of difficulty futures instruments using Taproot MAST and op_diff. The proposed idea involved creating partial versions of difficulty futures funded by Bob and spendable by Alice after a certain number of blocks. A payment from Alice to Bob with a hash lock was also suggested to enable this process. While it would be simpler to have all outputs in the same transaction, the proposed construction requires two signatures for the hash-branch to ensure specific contract payouts.In another email thread, a solution to binary payouts was discussed. Taproot MAST was suggested as an option, and another proposal involved paying outputs based on the diff value using division and binary operators. The payout would be enabled or disabled based on the value of D. This solution has logarithmic performance in terms of the number of ticks.Taproot MAST was mentioned again as a potential solution to enable difficulty futures instruments. The proposal focused on creating partial versions of difficulty futures funded by one party and spendable by another party after a certain period of time. A hash lock on the payment with a preimage secret was suggested to ensure the correct execution of the contract. The goal is to eventually implement this with lightning and high-frequency trading.Thomas Hartman proposed adding an opcode called &quot;op_difficulty&quot; to enable binary options on difficulty futures. However, another approach suggested using taproot's annex concept to create restrictions based on specific difficulty values or ranges. Participants would deposit into a UTXO and construct signed payouts timelocked for the future date. The payouts would go to different parties depending on the predicted difficulty range. Specifying an exact value for the difficulty was considered better for privacy, but it would require multiple signatures for pre-signed payouts.The discussion also touched upon the concept of binary options and pseudo-continuous futures. It was suggested that any opcode can be considered a binary option, but creating numerous outputs with different thresholds is necessary for a pseudo-continuous future. Taproot MAST was mentioned as a way to improve this method by generating fresh keypairs and tapleaf scripts.Another proposal for enabling binary options on difficulty futures involved using an operation called &quot;op_difficulty&quot; or taproot's annex concept. The protocol design included participants depositing into a UTXO and constructing signed payouts timelocked for the future date. The payouts would be based on specific difficulty values or ranges. The use of an exact difficulty value was considered better for blockchain size and privacy, although it would require multiple signatures for pre-signed payouts.Lastly, the idea of adding a single op_difficulty operation to enable binary options on difficulty</summary>
  </entry>
</feed>