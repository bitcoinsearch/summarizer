<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - BIP sighash_noinput</title>
  <updated>2025-10-11T02:27:09.604806+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <link href="bitcoin-dev/Sept_2018/016438_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2018/016437_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2018/016434_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016253_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016250_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016248_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016241_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016226_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016209_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016201_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016197_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016194_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016193_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016196_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016195_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016192_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016191_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2018/016187_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015966_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015964_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015959_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015943_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015940_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015930_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015929_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015933_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015927_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015926_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015922_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015925_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015919_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/May_2018/015917_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2018/015909_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2018/015908_BIP-sighash-noinput.xml" rel="alternate"/>
  <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-September/016438.html" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - BIP sighash_noinput</title>
    <updated>2025-10-11T02:27:09.604916+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-September/016438.html" rel="alternate"/>
    <published>2018-09-26T20:40:02+00:00</published>
    <summary>The discussion on the bitcoin-dev mailing list revolves around the use of the NOINPUT flag in Bitcoin transactions. The main topic of discussion is whether or not to sign the sequence of other inputs in addition to the nSequence of the same input in BIP143.Jonas Nick suggests that NOINPUT should zero out the hashSequence for consistency with ANYONECANPAY, but this would create problems when using eltoo update scripts with OP_CSV. Eltoo update transactions have two branches (update and settlement), and removing OP_CSV could allow them to be taprootified.The settlement branch is a 2-of-2 multisig with a relative timelock using OP_CSV. Both parties' signatures are required to spend the update transaction, which can be signed with SINGLE since it doesn't use relative timelocks. However, there is a catch that hashSequence includes the sequence numbers of all transaction inputs.This can be solved by zeroing out the hashSequence whenever NOINPUT is combined with SINGLE. The modification to the current NOINPUT implementation has been provided. Although this approach has some downsides, such as not being able to rebind to an output with an OP_CSV that requires a larger sequence number unless signed with SIGHASH_SINGLE, it makes eltoo unilateral closes taprootifiable.On the other hand, the use of the SIGHASH_NOINPUT flag is causing concern for several reasons. Firstly, it allows for address reuse, which cannot be prevented due to the push payment nature of Bitcoin. Secondly, average users who rely on the GUI may not understand the technicalities happening behind the scenes. Additionally, as Lightning Network is not validated by the community, a user could manipulate their own node to require SIGHASH_NOINPUT as a condition of the channel, which poses risks for under-the-hood raw transaction risks where a transaction can be signed, but then allow the outs to alter value using a different opcode. This could be abused by a counterparty just editing it so that one party gets nothing and the other gets everything. Finally, allowing certain things to change after signing brings back malleability for those that use a TXID to identify if a transaction has been confirmed.There are also discussions on the naming of the SIGHASH_NOINPUT flag. Some suggest changing the name to &quot;SIGHASH_REPLAY_VULNERABLE&quot; or &quot;SIGHASH_WEAK_REPLAYABLE&quot; to reflect its potential insecurity for traditional applications where third-party payments to an address can occur. However, others argue that address reuse is undefined behavior and nobody should assume that it is safe or works.Overall, the discussions revolve around finding the right balance between taprootifiability and security in Bitcoin transactions, particularly with regards to the use of the NOINPUT and SIGHASH_NOINPUT flags.Christian Decker has proposed a new sighash flag called `SIGHASH_NOINPUT` on the bitcoin-dev mailing list. This flag removes the commitment to the previous transaction input. However, there are concerns about its security and potential risks for wallets that might unknowingly use it.Gregory Maxwell suggests changing the name of the flag to something like &quot;SIGHASH_REPLAY_VULNERABLE&quot; or &quot;SIGHASH_WEAK_REPLAYABLE&quot; to better reflect its vulnerability. Rusty Russell supports this suggestion, proposing &quot;REUSE_VULNERABLE&quot; as a name to scare people away from using it.The discussion revolves around the use of `SIGHASH_NOINPUT` and its potential risks. It is suggested that this flag should only be used in special protocols where the risk of reusing addresses is unlikely. There is concern about losing funds when a third party reuses a script pubkey, as funds can be lost when a troublemaker shows up. The risk is magnified because the third party address reuser has no way of knowing if this sighash flag has been or will be used with a particular scriptpubkey. The best mitigation strategy is to ensure that anyone using this flag fully understands the consequences.The discussion also includes considerations about signing with `SIGHASH_NOINPUT` versus signing with `SIGHASH_NONE`. It is more likely that wallets will sign things with `SIGHASH_NOINPUT` when using Lightning v2. There is a suggestion to limit or drop support for `SIGHASH_NONE` for segwit v1 addresses. It is also mentioned that having a separate opcode would have clean semantics but would use up NOP-codes. Additionally, there is a dependency on taproot that is not yet finalized.Laolu Osuntokun, a Bitcoin developer, expresses excitement over the resurrection of the no_input feature in Bitcoin. They suggest introducing a new sighash flag alongside no_input that could include additional flexible sighash flags. They propose a new CHECKSIG operator that would consume an available noop opcode. This approach allows developers to modify scripts within the context of merklized script executions. Laolu emphasizes the importance of making the proposal small</summary>
  </entry>
</feed>