<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Unenforceable fee obligations in multiparty protocols with Taproot inputs</title>
  <updated>2025-09-26T14:36:05.265717+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <thread>
    <message id="msg_1" depth="0" position="0" anchor="m4dfd90014a0c04900fc54d626fafe7731b6e7aa2">
      <author>[bitcoin-dev] Unenforceable fee obligations in multiparty protocols with Taproot inputs Yuval Kogman</author>
      <timestamp>2023-02-07T02:49:00.000Z</timestamp>
    </message>
    <message id="msg_2" depth="1" position="1" reply_to="[bitcoin-dev] Unenforceable fee obligations in multiparty protocols with Taproot inputs Yuval Kogman" parent_id="mailing-list-2023-02-m4dfd90014a0c04900fc54d626fafe7731b6e7aa2" anchor="m8f04fe608d7af3add883d80c3b5603c905af56ac">
      <author>Lloyd Fournier</author>
      <timestamp>2023-02-07T04:38:00.000Z</timestamp>
    </message>
    <message id="msg_3" depth="1" position="2" reply_to="[bitcoin-dev] Unenforceable fee obligations in multiparty protocols with Taproot inputs Yuval Kogman" parent_id="mailing-list-2023-02-m4dfd90014a0c04900fc54d626fafe7731b6e7aa2" anchor="m97a9b05fd568ef4373aa58974bdcc875d400b28d">
      <author>Nadav Ivgi</author>
      <timestamp>2023-02-07T09:36:00.000Z</timestamp>
    </message>
    <message id="msg_4" depth="2" position="3" reply_to="Nadav Ivgi" parent_id="mailing-list-2023-02-m97a9b05fd568ef4373aa58974bdcc875d400b28d" anchor="m0381839791afd992c848e715175043cfa2470926">
      <author>Peter Todd</author>
      <timestamp>2023-02-07T12:50:00.000Z</timestamp>
    </message>
    <message id="msg_5" depth="1" position="4" reply_to="[bitcoin-dev] Unenforceable fee obligations in multiparty protocols with Taproot inputs Yuval Kogman" parent_id="mailing-list-2023-02-m4dfd90014a0c04900fc54d626fafe7731b6e7aa2" anchor="m2e31e8848c070a74ae7050e1467055239f0fc904">
      <author>Andrew Poelstra</author>
      <timestamp>2023-02-07T13:46:00.000Z</timestamp>
    </message>
    <message id="msg_6" depth="2" position="5" reply_to="Andrew Poelstra" parent_id="mailing-list-2023-02-m2e31e8848c070a74ae7050e1467055239f0fc904" anchor="m2afc8e25eaedc1c01ab1c9a818ac7f13c0060c4b">
      <author>Andrew Poelstra</author>
      <timestamp>2023-02-07T18:10:00.000Z</timestamp>
    </message>
    <message id="msg_7" depth="2" position="6" reply_to="Andrew Poelstra" parent_id="mailing-list-2023-02-m2e31e8848c070a74ae7050e1467055239f0fc904" anchor="m5551c1202d10025ea69bbc21636e5ad8e28740fb">
      <author>Peter Todd</author>
      <timestamp>2023-02-07T18:12:00.000Z</timestamp>
    </message>
    <message id="msg_8" depth="3" position="7" reply_to="Andrew Poelstra" parent_id="mailing-list-2023-02-m2afc8e25eaedc1c01ab1c9a818ac7f13c0060c4b" anchor="meb6e4e19570a7567f3106aebbf9b3743a770f897">
      <author>Russell O'Connor</author>
      <timestamp>2023-02-07T18:35:00.000Z</timestamp>
    </message>
    <message id="msg_9" depth="4" position="8" reply_to="Russell O'Connor" parent_id="mailing-list-2023-02-meb6e4e19570a7567f3106aebbf9b3743a770f897" anchor="m2fa34f36ba80d1a59bd1a9d368536ecba14edc76">
      <author>Peter Todd</author>
      <timestamp>2023-02-07T19:04:00.000Z</timestamp>
    </message>
    <message id="msg_10" depth="1" position="9" reply_to="[bitcoin-dev] Unenforceable fee obligations in multiparty protocols with Taproot inputs Yuval Kogman" parent_id="mailing-list-2023-02-m4dfd90014a0c04900fc54d626fafe7731b6e7aa2" anchor="mced319fdcbab59504a532b494d814000864aa670">
      <author>Antoine Riard</author>
      <timestamp>2023-02-08T00:56:00.000Z</timestamp>
    </message>
    <message id="msg_11" depth="4" position="10" reply_to="Russell O'Connor" parent_id="mailing-list-2023-02-meb6e4e19570a7567f3106aebbf9b3743a770f897" anchor="mb835168fadcaef5a8aa72572284875e595832781">
      <author>Michael Folkson</author>
      <timestamp>2023-02-08T09:34:00.000Z</timestamp>
    </message>
    <message id="msg_12" depth="5" position="11" reply_to="Michael Folkson" parent_id="mailing-list-2023-02-mb835168fadcaef5a8aa72572284875e595832781" anchor="m1acc5a6ceb54046c747b4c3b5215a9ccea225ead">
      <author>Andrew Poelstra</author>
      <timestamp>2023-02-08T14:00:00.000Z</timestamp>
    </message>
    <message id="msg_13" depth="5" position="12" reply_to="Michael Folkson" parent_id="mailing-list-2023-02-mb835168fadcaef5a8aa72572284875e595832781" anchor="me77e200285c3dfa87973dfd42e32b83e215ec203">
      <author>Russell O'Connor</author>
      <timestamp>2023-02-08T14:04:00.000Z</timestamp>
    </message>
    <message id="msg_14" depth="2" position="13" reply_to="Antoine Riard" parent_id="mailing-list-2023-02-mced319fdcbab59504a532b494d814000864aa670" anchor="m47b99d7f37a62a65d0232b865171413b2524224e">
      <author>Yuval Kogman</author>
      <timestamp>2023-02-10T19:35:00.000Z</timestamp>
    </message>
    <message id="msg_15" depth="6" position="14" reply_to="Russell O'Connor" parent_id="mailing-list-2023-02-me77e200285c3dfa87973dfd42e32b83e215ec203" anchor="m8d85f06ea43384d6b3b0d8295f90c8c7ac2f4167">
      <author>Anthony Towns</author>
      <timestamp>2023-02-11T05:14:00.000Z</timestamp>
    </message>
    <message id="msg_16" depth="7" position="15" reply_to="Anthony Towns" parent_id="mailing-list-2023-02-m8d85f06ea43384d6b3b0d8295f90c8c7ac2f4167" anchor="mffa58243510ebd38f3300d5ef28d6100dae5753c">
      <author>Russell O'Connor</author>
      <timestamp>2023-02-11T14:40:00.000Z</timestamp>
    </message>
    <message id="msg_17" depth="8" position="16" reply_to="Russell O'Connor" parent_id="mailing-list-2023-02-mffa58243510ebd38f3300d5ef28d6100dae5753c" anchor="md13114b8c42a31e32fa01ca6927e4cbcb5afed9f">
      <author>Anthony Towns</author>
      <timestamp>2023-02-12T06:47:00.000Z</timestamp>
    </message>
    <message id="msg_18" depth="3" position="17" reply_to="Yuval Kogman" parent_id="mailing-list-2023-02-m47b99d7f37a62a65d0232b865171413b2524224e" anchor="mebfe4bcb980df29ef2f17f3f9b1c6d5e2c049594">
      <author>Antoine Riard</author>
      <timestamp>2023-02-15T03:33:00.000Z</timestamp>
    </message>
  </thread>
  <link href="bitcoin-dev/Feb_2023/021466_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021462_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021461_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021460_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021459_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021458_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021457_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021456_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021454_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021453_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021452_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021451_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021450_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021448_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021447_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021446_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021445_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021444_Unenforceable-fee-obligations-in-multiparty-protocols-with-Taproot-inputs.xml" rel="alternate"/>
  <link href="https://gnusha.org/url/https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-February/021444.html" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - Unenforceable fee obligations in multiparty protocols with Taproot inputs</title>
    <updated>2025-09-26T14:36:05.267842+00:00</updated>
    <link href="https://gnusha.org/url/https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-February/021444.html" rel="alternate"/>
    <published>2023-02-15T03:33:24+00:00</published>
    <summary>Several topics were discussed in a recent conversation regarding the security of multiparty transactions using Taproot. One concern raised was the potential for witness inflation and fee extraction in coinjoin transactions. It was noted that the last signer could manipulate the transaction's feerate by using an inflated witness, causing complications and wasting time value. To address this issue, several strategies were proposed, such as negotiating transactions at a lower feerate, enforcing minimal weights for non-witness data, requiring ownership proofs, and imposing minimum feerates or confirmation ages for inputs. It was also emphasized that full Replace-by-Fee (RBF) is necessary to ensure incentive compatibility in multiparty transactions.Another topic of discussion was a bug identified in Taproot where the same Tapleaf could be repeated multiple times within the same Taproot, potentially with different Taplevels and Tapfee rates. To mitigate this bug, it was recommended to always have knowledge of the entire Taptree when interacting with someone's Tapspend. Additionally, the CODESEPARATOR opcode could be used to prevent signature migration within or between branches.An email conversation between Yuval and LL highlighted a potential attack scenario in multiparty transactions, involving one participant unfairly extracting fee contributions from others. This exploit takes advantage of the variable size of Taproot spends by using a larger signature for the last input signed, reducing the feerate without affecting absolute fees. To prevent this attack, several mitigations were proposed. Negotiating a lower feerate ahead of time and establishing a minimum feerate that the attacker cannot go below was one solution. Another mitigation was enforcing a minimum weight for non-witness data in the transaction before considering it fully constructed. In a centralized setting with BIP-322 ownership proofs, the server could reject signatures that do not match the spend path specified in the ownership proof. Publicly verifiable protocol transcripts and requirements for minimum feerates or confirmation ages for inputs were also suggested as deterrents.Each mitigation proposed has its limitations and trade-offs. Pinning attacks can prevent RBF, but minimum confirmation age may not be applicable to lightning channels. Therefore, it is recommended to implement multiple mitigations simultaneously to effectively prevent this type of attack.</summary>
  </entry>
</feed>