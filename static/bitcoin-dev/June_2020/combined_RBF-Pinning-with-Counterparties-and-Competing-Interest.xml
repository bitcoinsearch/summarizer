<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - RBF Pinning with Counterparties and Competing Interest</title>
  <updated>2025-10-12T02:14:08.628471+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <thread>
    <message id="msg_1" depth="1" position="0" reply_to="[bitcoin-dev] RBF Pinning with Counterparties and Competing Interest Matt Corallo" parent_id="mailing-list-2020-04-m5727cf099a491a4bf1ac213387c574a4e7f0d7f5" anchor="m6aa88ef6e8282e828d30c5f4b3dc5e383c17b663">
      <author>[bitcoin-dev] [Lightning-dev] &quot; ZmnSCPxj</author>
      <timestamp>2020-04-22T04:12:00.000Z</timestamp>
    </message>
    <message id="msg_2" depth="2" position="1" reply_to="[bitcoin-dev] [Lightning-dev] &quot; ZmnSCPxj" parent_id="mailing-list-2020-04-m6aa88ef6e8282e828d30c5f4b3dc5e383c17b663" anchor="mafd7b13f5cd0ad1b23bd4b93760595037440da16">
      <author>Olaoluwa Osuntokun</author>
      <timestamp>2020-04-22T04:18:00.000Z</timestamp>
    </message>
    <message id="msg_3" depth="3" position="2" reply_to="Olaoluwa Osuntokun" parent_id="mailing-list-2020-04-mafd7b13f5cd0ad1b23bd4b93760595037440da16" anchor="m8f1122a721816d272eb013843a4a26b27e91f429">
      <author>ZmnSCPxj</author>
      <timestamp>2020-04-22T06:08:00.000Z</timestamp>
    </message>
    <message id="msg_4" depth="4" position="3" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-04-m8f1122a721816d272eb013843a4a26b27e91f429" anchor="m76618719a1084908ecb84487aa5332f19fe86234">
      <author>Antoine Riard</author>
      <timestamp>2020-04-22T08:01:00.000Z</timestamp>
    </message>
    <message id="msg_5" depth="5" position="4" reply_to="Antoine Riard" parent_id="mailing-list-2020-04-m76618719a1084908ecb84487aa5332f19fe86234" anchor="m3320c137e9e34ee9adeb1984e2b580cab977a78d">
      <author>Bastien TEINTURIER</author>
      <timestamp>2020-04-22T08:55:00.000Z</timestamp>
    </message>
    <message id="msg_6" depth="2" position="5" reply_to="[bitcoin-dev] [Lightning-dev] &quot; ZmnSCPxj" parent_id="mailing-list-2020-04-m6aa88ef6e8282e828d30c5f4b3dc5e383c17b663" anchor="m07fd8366d523717c73cfe45e127fc43633a55f46">
      <author>Matt Corallo</author>
      <timestamp>2020-04-22T16:56:00.000Z</timestamp>
    </message>
    <message id="msg_7" depth="4" position="6" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-04-m8f1122a721816d272eb013843a4a26b27e91f429" anchor="mb3873033c854f64f97164487f4db0dfb8058e755">
      <author>Olaoluwa Osuntokun</author>
      <timestamp>2020-04-22T23:05:00.000Z</timestamp>
    </message>
    <message id="msg_8" depth="5" position="7" reply_to="Olaoluwa Osuntokun" parent_id="mailing-list-2020-04-mb3873033c854f64f97164487f4db0dfb8058e755" anchor="m85e8c8a7de55f92de7bd190d49d688271b8c67c7">
      <author>Olaoluwa Osuntokun</author>
      <timestamp>2020-04-22T23:11:00.000Z</timestamp>
    </message>
    <message id="msg_9" depth="7" position="8" reply_to="Matt Corallo" parent_id="mailing-list-2020-04-m0c41d12c04165f44ad09c7647a6abc84c7403e9c" anchor="m04198598379558023173f9a8ad4903891c5665ae">
      <author>[bitcoin-dev] [Lightning-dev] &quot; ZmnSCPxj</author>
      <timestamp>2020-04-23T04:50:00.000Z</timestamp>
    </message>
    <message id="msg_10" depth="8" position="9" reply_to="[bitcoin-dev] [Lightning-dev] &quot; ZmnSCPxj" parent_id="mailing-list-2020-04-m04198598379558023173f9a8ad4903891c5665ae" anchor="me039a3073e75dcf14aea49cb605bc3ea1980df46">
      <author>Matt Corallo</author>
      <timestamp>2020-04-23T06:21:00.000Z</timestamp>
    </message>
    <message id="msg_11" depth="9" position="10" reply_to="Matt Corallo" parent_id="mailing-list-2020-04-me039a3073e75dcf14aea49cb605bc3ea1980df46" anchor="m2714a91690e559233025114a496684bcb12a2170">
      <author>ZmnSCPxj</author>
      <timestamp>2020-04-23T12:46:00.000Z</timestamp>
    </message>
    <message id="msg_12" depth="10" position="11" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-04-m2714a91690e559233025114a496684bcb12a2170" anchor="mbce592986322f91eb1ee3e54df67f011cbd1c103">
      <author>Matt Corallo</author>
      <timestamp>2020-04-23T22:47:00.000Z</timestamp>
    </message>
    <message id="msg_13" depth="11" position="12" reply_to="Matt Corallo" parent_id="mailing-list-2020-06-mbce592986322f91eb1ee3e54df67f011cbd1c103" anchor="me5a922c0cd71b1d80aa40eef70b56021bada8676">
      <author>Bastien TEINTURIER</author>
      <timestamp>2020-06-19T07:44:00.000Z</timestamp>
    </message>
    <message id="msg_14" depth="12" position="13" reply_to="Bastien TEINTURIER" parent_id="mailing-list-2020-06-me5a922c0cd71b1d80aa40eef70b56021bada8676" anchor="m8fecceada26f91b2e75fe148defd403d20ccebef">
      <author>David A. Harding</author>
      <timestamp>2020-06-19T19:58:00.000Z</timestamp>
    </message>
    <message id="msg_15" depth="13" position="14" reply_to="David A. Harding" parent_id="mailing-list-2020-06-m8fecceada26f91b2e75fe148defd403d20ccebef" anchor="m0bdb929273ebe873e68f604c1ad83c6fc6ef2bf2">
      <author>David A. Harding</author>
      <timestamp>2020-06-19T20:52:00.000Z</timestamp>
    </message>
    <message id="msg_16" depth="14" position="15" reply_to="David A. Harding" parent_id="mailing-list-2020-06-m0bdb929273ebe873e68f604c1ad83c6fc6ef2bf2" anchor="mbedc3a0a35816559ba0361b45c3a482ed2a07fc1">
      <author>Bastien TEINTURIER</author>
      <timestamp>2020-06-20T08:54:00.000Z</timestamp>
    </message>
    <message id="msg_17" depth="15" position="16" reply_to="Bastien TEINTURIER" parent_id="mailing-list-2020-06-mbedc3a0a35816559ba0361b45c3a482ed2a07fc1" anchor="m41b5a4bb0543fc9e56cdab41ddc627f287ace86f">
      <author>David A. Harding</author>
      <timestamp>2020-06-20T10:36:00.000Z</timestamp>
    </message>
    <message id="msg_18" depth="16" position="17" reply_to="David A. Harding" parent_id="mailing-list-2020-06-m41b5a4bb0543fc9e56cdab41ddc627f287ace86f" anchor="mf0635c20a0af2095cfaf86a03d8309372136843c">
      <author>ZmnSCPxj</author>
      <timestamp>2020-06-20T16:01:00.000Z</timestamp>
    </message>
    <message id="msg_19" depth="17" position="18" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-06-mf0635c20a0af2095cfaf86a03d8309372136843c" anchor="m0e920bf39a0b557a4ec7c36d3fd9e1baa18f39fe">
      <author>ZmnSCPxj</author>
      <timestamp>2020-06-21T02:10:00.000Z</timestamp>
    </message>
    <message id="msg_20" depth="16" position="19" reply_to="David A. Harding" parent_id="mailing-list-2020-06-m41b5a4bb0543fc9e56cdab41ddc627f287ace86f" anchor="m7ced1ff880f22fdf924874f7d78c979bc7d9cf5e">
      <author>Bastien TEINTURIER</author>
      <timestamp>2020-06-22T07:35:00.000Z</timestamp>
    </message>
    <message id="msg_21" depth="17" position="20" reply_to="Bastien TEINTURIER" parent_id="mailing-list-2020-06-m7ced1ff880f22fdf924874f7d78c979bc7d9cf5e" anchor="m029f10c4a3c21fbba3890861b793bbd766c75c3c">
      <author>ZmnSCPxj</author>
      <timestamp>2020-06-22T08:15:00.000Z</timestamp>
    </message>
    <message id="msg_22" depth="18" position="21" reply_to="ZmnSCPxj" parent_id="mailing-list-2020-06-m029f10c4a3c21fbba3890861b793bbd766c75c3c" anchor="m4db5f3682e7d4d62a051ff2035858195cdb09d33">
      <author>Bastien TEINTURIER</author>
      <timestamp>2020-06-22T08:25:00.000Z</timestamp>
    </message>
    <message id="msg_23" depth="19" position="22" reply_to="Bastien TEINTURIER" parent_id="mailing-list-2020-06-m4db5f3682e7d4d62a051ff2035858195cdb09d33" anchor="m646faa72429369df204dc37ec25a72f6d9636b62">
      <author>Matt Corallo</author>
      <timestamp>2020-06-24T08:32:00.000Z</timestamp>
    </message>
  </thread>
  <link href="bitcoin-dev/June_2020/018001_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017995_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017993_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017994_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017992_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017991_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017990_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017989_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017988_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017987_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/June_2020/017985_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017797_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017790_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017787_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017786_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017785_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017784_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017783_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017781_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017780_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017779_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017778_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017777_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017776_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017775_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017774_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017773_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017772_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017770_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017769_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017768_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017766_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017764_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017763_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017762_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017761_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017760_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017759_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="bitcoin-dev/April_2020/017757_RBF-Pinning-with-Counterparties-and-Competing-Interest.xml" rel="alternate"/>
  <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/018001.html" rel="alternate"/>
  <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/018001.html" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - RBF Pinning with Counterparties and Competing Interest</title>
    <updated>2025-10-12T02:14:08.630818+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/018001.html" rel="alternate"/>
    <published>2020-06-24T08:32:52+00:00</published>
    <summary>The conversations and email threads discussed various proposals and concerns related to the Lightning Network, mempool evictions, double-spend attacks, HTLC spends, and policy rules. One proposal involved bribing miners for knowledge, but it was acknowledged that additional software and complexity would be needed. There were discussions about limiting low-fee-rate packages in the mempool, marking transactions as &quot;likely-to-be-RBF'ed&quot;, and potential changes to the Poon-Dryja channels contract text. Increasing development resources to address mempool issues was emphasized. The lightning network community explored solutions such as mempool-watching and the use of anchor outputs. Concerns were raised about computational complexity, bidding wars, and the choice of internal data structures. The economic rationality of accepting higher fee rate packages and the challenges of monitoring the global mempool were also discussed. Overall, the discussions highlighted ongoing efforts to improve the efficiency and security of the Lightning Network and address various challenges and vulnerabilities.The discussion on the Lightning-dev mailing list focused on a potential vulnerability in the Bitcoin Lightning Network's hash locked time contracts (HTLC). The vulnerability arises when a transaction from party A to party C has already timed out, allowing party B and C to engage in a bidding war with miners to get their version of the transaction committed on-chain. To mitigate this, party B must ensure that the HTLC-Timeout is committed on-chain before the timeout, preventing the bidding war from starting. A proposed solution involves using `OP_CHECKSEQUENCEVERIFY` to enforce RBF-flagging and allowing B to fee-bump the HTLC-Timeout signature from C with some on-chain funds if the L+1 timeout is approaching. The current anchors proposal enforces a CSV of 1 block before the HTLCs can be spent, further mitigating the attack. However, there are concerns regarding the reliability of the proposed solutions, including the risk of losing money if the remote party broadcasts their version of the commitment without revoking. There are also discussions about using reject messages with extended functionality to handle conflicts in the mempool, but practical design issues and concerns about potential DoS vectors need to be considered.In an email exchange, limitations of Bitcoin contracts with nested trees of transactions were discussed, as well as the use of mempool-watching as a mitigation measure against attacks on Lightning nodes. Suggestions were made to resolve issues such as eliminating the commitment fee guessing game and allowing users to pay less on force close. Different proposals were presented, including pre-signing all HTLC output spends and making them more free-form, but there were concerns about the need for an overhaul in the channel state machine. The enforcement of BIP125 rule 3, which requires each replacement transaction to pay a higher fee rate than the previous one, was also discussed. Two attack vectors on the Lightning Network were mentioned: delaying the confirmation of honest party transactions to provoke an unbalanced settlement for the victim, and a vulnerability in RBF Pinning HTLC Transactions. Suggestions were made to add an RBF carve-out output to HTLC-Timeout or allow for re-signing the B-side signature for a higher-fee version.ZmnSCPxj proposed a mechanism to protect against RBF attacks on HTLC transactions in the Lightning Network. The suggested solution involved confirming HTLC-Timeout on-chain before a certain time to prevent the theft of the HTLC value. Another proposal was to add an RBF carve-out output to HTLC-Timeout or use SIGHASH_NOINPUT to allow for fee-bumping. The limitations of Bitcoin contracts were discussed, as well as the choice of internal data structures and monitoring the global mempool as a mitigation measure for Lightning implementations.The lightning protocol's vulnerability, where a counterparty could steal HTLC funds using a low-fee, RBF-disabled transaction, was highlighted. Solutions were proposed, such as adding an RBF carve-out output to HTLC-Timeout or allowing for fees using SIGHASH_NOINPUT. The Decker-Russell-Osuntokun approach was mentioned as a way to sidestep this issue. Concerns about anchor outputs and the possibility of using RBF Pinning to steal in-flight HTLCs enforced on-chain were also raised. Alternative proposals were suggested to improve the security of the Lightning Network.Overall, the discussions delved into various technical solutions, concerns, and potential attacks related to transaction security, mempool information, and the Lightning Network. Different proposals and suggestions were presented, highlighting the complexities and challenges of ensuring the integrity and efficiency of Bitcoin transactions.</summary>
  </entry>
</feed>