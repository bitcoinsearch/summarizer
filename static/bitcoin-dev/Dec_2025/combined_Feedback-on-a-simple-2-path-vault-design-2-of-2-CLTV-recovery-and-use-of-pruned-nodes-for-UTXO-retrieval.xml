<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Feedback on a simple 2-path vault design (2-of-2 + CLTV recovery) and use of pruned nodes for UTXO retrieval</title>
  <updated>2025-12-14T03:05:24.807673+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <thread>
    <message id="msg_1" depth="0" position="0">
      <author>Feedback on a simple path vault design (of  CLTV recovery) and use of pruned nodes for UTXO retrieval victor perez</author>
      <timestamp>2025-12-11 11:30:00+00:00</timestamp>
    </message>
    <message id="msg_2" depth="0" position="1">
      <author>Antoine Poinsot'</author>
      <timestamp>2025-12-11 14:14:00+00:00</timestamp>
    </message>
    <message id="msg_3" depth="2" position="2" reply_to="Antoine Poinsot'" parent_id="mailing-list-2025-12-m64ff47f03c1adbab44dec59d0925c0aa3639ba2a" anchor="md290afb6e911eb5034d96ee586e2884fcb632e89">
      <author>victor perez</author>
      <timestamp>2025-12-11 15:15:00+00:00</timestamp>
    </message>
    <message id="msg_4" depth="3" position="3" reply_to="victor perez" parent_id="mailing-list-2025-12-md290afb6e911eb5034d96ee586e2884fcb632e89" anchor="m47c99d80bf10566e3f97a94f153896e9a244dea7">
      <author>Antoine Poinsot'</author>
      <timestamp>2025-12-13 17:03:00+00:00</timestamp>
    </message>
  </thread>
  <link href="bitcoin-dev/Dec_2025/m60e5383bdc666301bca678e89492c90e3d626860_Feedback-on-a-simple-2-path-vault-design-2-of-2-CLTV-recovery-and-use-of-pruned-nodes-for-UTXO-retrieval.xml" rel="alternate"/>
  <link href="bitcoin-dev/Dec_2025/m64ff47f03c1adbab44dec59d0925c0aa3639ba2a_Feedback-on-a-simple-2-path-vault-design-2-of-2-CLTV-recovery-and-use-of-pruned-nodes-for-UTXO-retrieval.xml" rel="alternate"/>
  <link href="bitcoin-dev/Dec_2025/md290afb6e911eb5034d96ee586e2884fcb632e89_Feedback-on-a-simple-2-path-vault-design-2-of-2-CLTV-recovery-and-use-of-pruned-nodes-for-UTXO-retrieval.xml" rel="alternate"/>
  <link href="bitcoin-dev/Dec_2025/m47c99d80bf10566e3f97a94f153896e9a244dea7_Feedback-on-a-simple-2-path-vault-design-2-of-2-CLTV-recovery-and-use-of-pruned-nodes-for-UTXO-retrieval.xml" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - Feedback on a simple 2-path vault design (2-of-2 + CLTV recovery) and use of pruned nodes for UTXO retrieval</title>
    <updated>2025-12-14T03:05:24.808392+00:00</updated>
    <link href="https://gnusha.org/pi/bitcoindev/vSl9GmLdknrrpIJWieOlkhLVW7xpRcZyMwZiLX2B7kZsRPcRshjdNU5HphnHZObCNyrdfiY9xhXJ-vhgRs3vTYOjIwSjgXeWaUIOgUhgAvg=@protonmail.com/T/#m47c99d80bf10566e3f97a94f153896e9a244dea7" rel="alternate"/>
    <published>2025-12-11 11:30:00+00:00</published>
    <summary>Victor introduces a non-custodial vault system he is developing, which features two spending paths to ensure both immediate access and secure, delayed recovery. The immediate spending path employs a 2-of-2 multisig configuration, requiring both keys for transaction authorization. On the other hand, the recovery path allows for transactions to be executed by key B alone after a certain block height, using OP_CHECKLOCKTIMEVERIFY to enforce this delay. Victor's primary concern revolves around the feasibility of using a remote pruned Bitcoin Core node within the client software to optimize storage and deployment efficiencies. This setup aims to manage UTXOs, facilitate PSBT construction, and handle transaction broadcasting through RPC calls. He queries about the pruned node's reliability in accurately returning all associated UTXOs, providing complete input details for PSBTs, validating transactions against the timelocked script, and efficiently broadcasting transactions. Furthermore, Victor seeks insights on the overall safety and best practices regarding the script design of the vault system and explores the potential improvements and applicability of Taproot-based solutions.
Antoine responds by highlighting the misuse of the term &quot;vaults&quot; within the Bitcoin community, noting that it has been applied to various constructs with distinct functionalities, leading to confusion. He points out that &quot;vaults&quot; initially had a specific meaning related to Bitcoin, which is detailed on the Bitcoin Ops webpage. Antoine then introduces &quot;Liana,&quot; a construct similar to Victor's proposal but with notable differences, such as preferring relative timelocks (CSV) over absolute timelocks (CLTV) to avoid complications related to expiration dates. Liana integrates a pruned Bitcoin Core node and leverages watchonly wallet functionality to monitor user coins, diverging from Bitcoin Core's RPC interface for scenarios requiring a remote node and supporting configuration with an Electrum server instead.
In his follow-up, Victor acknowledges the importance of precise terminology and clarifies that his project is essentially a 2-of-2 multisig with a CSV-based recovery path, aiming for educational and exploratory purposes rather than innovation. He agrees on the preference for CSV over CLTV due to its flexibility and mentions running a full Bitcoin Core node during development for simplifying UTXO retrieval. Victor expresses interest in studying Liana's approach to pruned-node compatibility and plans to build a minimal system for learning before expanding into broader projects focusing on inheritance flows and user-friendly recovery logic.
Antoine offers recommendations for Victor's educational journey, suggesting starting with the Bitcoin Core wallet API to understand the full lifecycle of his construction, then moving to implement the flow using the BDK library for a deeper dive into descriptor scanning and PSBT processing. He also advises investigating how hardware signing devices interface with wallet spending policies and emphasizes the importance of delving into the details for creating a robust software solution. Antoine encourages engaging with more mature Miniscript-using projects like Liana or Anchorwatch and participating in discussion groups for further learning.</summary>
  </entry>
</feed>