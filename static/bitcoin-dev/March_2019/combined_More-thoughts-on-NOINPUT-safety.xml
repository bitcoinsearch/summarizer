<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - More thoughts on NOINPUT safety</title>
  <updated>2025-10-12T01:36:29.401651+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <thread>
    <message id="msg_1" depth="0" position="0" anchor="ma05a05a9ad76da82d1310f9de222aa82aacd478f">
      <author>[bitcoin-dev] More thoughts on NOINPUT safety Anthony Towns</author>
      <timestamp>2019-03-13T01:41:00.000Z</timestamp>
    </message>
    <message id="msg_2" depth="1" position="1" reply_to="[bitcoin-dev] More thoughts on NOINPUT safety Anthony Towns" parent_id="mailing-list-2019-03-ma05a05a9ad76da82d1310f9de222aa82aacd478f" anchor="mf5fe10f5966fd8331cd31d0baf3cc12b8f74b796">
      <author>[bitcoin-dev] [Lightning-dev] &quot; ZmnSCPxj</author>
      <timestamp>2019-03-13T06:41:00.000Z</timestamp>
    </message>
    <message id="msg_3" depth="2" position="2" reply_to="[bitcoin-dev] [Lightning-dev] &quot; ZmnSCPxj" parent_id="mailing-list-2019-03-mf5fe10f5966fd8331cd31d0baf3cc12b8f74b796" anchor="m5ab5f9a5d0fc4974ce2e1c6b7d435bc53a1c57d2">
      <author>Anthony Towns</author>
      <timestamp>2019-03-13T11:10:00.000Z</timestamp>
    </message>
    <message id="msg_4" depth="3" position="3" reply_to="Anthony Towns" parent_id="mailing-list-2019-03-m5ab5f9a5d0fc4974ce2e1c6b7d435bc53a1c57d2" anchor="md634f9f9e8b1ac1b1f31aa88cfb66cc269c30c90">
      <author>ZmnSCPxj</author>
      <timestamp>2019-03-14T05:22:00.000Z</timestamp>
    </message>
    <message id="msg_5" depth="4" position="4" reply_to="ZmnSCPxj" parent_id="mailing-list-2019-03-md634f9f9e8b1ac1b1f31aa88cfb66cc269c30c90" anchor="m014af989792376722bdeec0588ed7acb7db799b5">
      <author>Anthony Towns</author>
      <timestamp>2019-03-14T07:24:00.000Z</timestamp>
    </message>
    <message id="msg_6" depth="5" position="5" reply_to="Anthony Towns" parent_id="mailing-list-2019-03-m014af989792376722bdeec0588ed7acb7db799b5" anchor="m95b789ab877037499718e663c17702d1ce2e875e">
      <author>ZmnSCPxj</author>
      <timestamp>2019-03-14T07:55:00.000Z</timestamp>
    </message>
    <message id="msg_7" depth="5" position="6" reply_to="Anthony Towns" parent_id="mailing-list-2019-03-m014af989792376722bdeec0588ed7acb7db799b5" anchor="m5e8e98008fd2c8caff49acac0d38be0902a7f2d5">
      <author>Christian Decker</author>
      <timestamp>2019-03-14T12:00:00.000Z</timestamp>
    </message>
    <message id="msg_8" depth="1" position="7" reply_to="[bitcoin-dev] More thoughts on NOINPUT safety Anthony Towns" parent_id="mailing-list-2019-03-ma05a05a9ad76da82d1310f9de222aa82aacd478f" anchor="m50a7efca60f85dfc9120e475b58db4e463ecf379">
      <author>Rusty Russell</author>
      <timestamp>2019-03-20T00:22:00.000Z</timestamp>
    </message>
    <message id="msg_9" depth="2" position="8" reply_to="Rusty Russell" parent_id="mailing-list-2019-03-m50a7efca60f85dfc9120e475b58db4e463ecf379" anchor="m5a1bbe247def1da84c93fba1a2b1f2acd451e039">
      <author>Rusty Russell</author>
      <timestamp>2019-03-20T03:33:00.000Z</timestamp>
    </message>
    <message id="msg_10" depth="3" position="9" reply_to="Rusty Russell" parent_id="mailing-list-2019-03-m5a1bbe247def1da84c93fba1a2b1f2acd451e039" anchor="mf5787ddf548cf9f19a38f0323ebe2bc6c16a0130">
      <author>ZmnSCPxj</author>
      <timestamp>2019-03-20T07:38:00.000Z</timestamp>
    </message>
    <message id="msg_11" depth="4" position="10" reply_to="ZmnSCPxj" parent_id="mailing-list-2019-03-mf5787ddf548cf9f19a38f0323ebe2bc6c16a0130" anchor="md7dc9108d40d75c15d3f00dafc60ff5bd6dea5cf">
      <author>ZmnSCPxj</author>
      <timestamp>2019-03-20T08:07:00.000Z</timestamp>
    </message>
    <message id="msg_12" depth="5" position="11" reply_to="ZmnSCPxj" parent_id="mailing-list-2019-03-md7dc9108d40d75c15d3f00dafc60ff5bd6dea5cf" anchor="m53c8b1cc282bea7969e6cbdfded4ab625ed07e4e">
      <author>Johnson Lau</author>
      <timestamp>2019-03-21T08:37:00.000Z</timestamp>
    </message>
    <message id="msg_13" depth="5" position="12" reply_to="ZmnSCPxj" parent_id="mailing-list-2019-03-md7dc9108d40d75c15d3f00dafc60ff5bd6dea5cf" anchor="mc95fe90b644417db0a72f938089a06106c570fbd">
      <author>Anthony Towns</author>
      <timestamp>2019-03-21T09:06:00.000Z</timestamp>
    </message>
    <message id="msg_14" depth="6" position="13" reply_to="Anthony Towns" parent_id="mailing-list-2019-03-mc95fe90b644417db0a72f938089a06106c570fbd" anchor="m6e546a3f56e003a088b80c1b4f019861de3af904">
      <author>ZmnSCPxj</author>
      <timestamp>2019-03-21T10:05:00.000Z</timestamp>
    </message>
    <message id="msg_15" depth="7" position="14" reply_to="ZmnSCPxj" parent_id="mailing-list-2019-03-m6e546a3f56e003a088b80c1b4f019861de3af904" anchor="m879065a7a0b4ea794f75965682ef6d911059e7af">
      <author>Anthony Towns</author>
      <timestamp>2019-03-21T11:55:00.000Z</timestamp>
    </message>
    <message id="msg_16" depth="8" position="15" reply_to="Anthony Towns" parent_id="mailing-list-2019-03-m879065a7a0b4ea794f75965682ef6d911059e7af" anchor="mdf94c6bb778e34f3f119524414549bccc0343e7b">
      <author>ZmnSCPxj</author>
      <timestamp>2019-03-22T01:59:00.000Z</timestamp>
    </message>
    <message id="msg_17" depth="9" position="16" reply_to="ZmnSCPxj" parent_id="mailing-list-2019-03-mdf94c6bb778e34f3f119524414549bccc0343e7b" anchor="m3166d9a5ac2a605f57b51b07ec8d536ce45a5392">
      <author>Anthony Towns</author>
      <timestamp>2019-03-22T02:58:00.000Z</timestamp>
    </message>
    <message id="msg_18" depth="9" position="17" reply_to="ZmnSCPxj" parent_id="mailing-list-2019-03-mdf94c6bb778e34f3f119524414549bccc0343e7b" anchor="m4a48a85337bb2d5d845a263fb743d3c8bcc1f25a">
      <author>Johnson Lau</author>
      <timestamp>2019-03-22T04:23:00.000Z</timestamp>
    </message>
    <message id="msg_19" depth="10" position="18" reply_to="Anthony Towns" parent_id="mailing-list-2019-03-m3166d9a5ac2a605f57b51b07ec8d536ce45a5392" anchor="m0d4f2fff2ab61fbe22e797da240d5cf516e43119">
      <author>ZmnSCPxj</author>
      <timestamp>2019-03-22T07:46:00.000Z</timestamp>
    </message>
  </thread>
  <link href="bitcoin-dev/March_2019/016803_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016800_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016799_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016798_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016796_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016795_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016794_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016793_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016792_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016791_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016790_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016788_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016780_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016778_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016777_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016776_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016770_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016768_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2019/016766_More-thoughts-on-NOINPUT-safety.xml" rel="alternate"/>
  <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-March/016803.html" rel="alternate"/>
  <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-March/016803.html" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - More thoughts on NOINPUT safety</title>
    <updated>2025-10-12T01:36:29.403631+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-March/016803.html" rel="alternate"/>
    <published>2019-03-22T07:46:28+00:00</published>
    <summary>ZmnSCPxj and AJ Towns were discussing the implementation of eltoo in Bitcoin's Script language. They explored different options for enforcing timelocks in settlement transactions. ZmnSCPxj suggested using OP_CHECKLOCKTIMEVERIFY and OP_CHECKDLSVERIFY, while AJ proposed using OP_CODESEPARATOR. However, they acknowledged that both approaches require a flag for commitment to the scriptcode, which is not provided by BIP118.They also discussed the use of separate keys in the two branches of the script. The discussion touched on the necessity of OP_CSV in the settlement branch and concluded that OP_CSV is not needed if one party cannot single-handedly decide the relative locktime, as is the case with muSig. The post clarified that even a script without OP_CSV does not require it as long as the signatures use the same relative locktime.In another email exchange, ZmnSCPxj and AJ discussed the enforcement of relative timelocks in settlement transactions. AJ proposed refusing to sign a settlement transaction that doesn't have the timelock set as a way to enforce relative timelock in the settlement branch. They also mentioned that due to BIP-68 being enforced by consensus, settlement-1 signed by ZmnSCPxj is not immediately spendable by update-1.The conversation highlighted the technical details involved in enforcing timelocks in settlement transactions for offchain channels. It emphasized the need for a distinct public key for settlement transactions and the enforcement of nLockTime with OP_CHECKLOCKTIMEVERIFY. It also discussed the possibility of using OP_CODESEPARATOR to distinguish between update and settlement transactions.AJ and ZmnSCPxj discussed potential ways to simplify the Bitcoin script for Taproot. They explored using different shared keys in the two branches of the script and signing with NOINPUT, NOSCRIPT, and codeseparatorpos to enforce CheckLockTimeVerify (CLTV). They also mentioned the requirement of two pubkeys, two sigs, and the taproot point reveal.The email exchange touched on the proposal of using either of two scripts for eltoo. It was clarified that both scripts can be used, with differences in the signing process. One style involves exchanging the NOINPUT signature, while the other style requires cosigning the muSig with NOINPUT and sharing the private key for Q. The discussion highlighted the simplicity of the first style and the efficiency of the second style with multiple parties.ZmnSCPxj raised a question about the &quot;must have a non-SIGHASH_NOINPUT&quot; rule and its implications for watchtowers. It was suggested that watchtowers store both SIGHASH_NOINPUT signatures from both sides in the blob sent to them. Rusty Russell responded by mentioning the possibility of future segwit versions relaxing the rule. ZmnSCPxj proposed the idea of requiring a sig that commits to the input tx as a safe and inexpensive approach to address the issue.The discussion delved into the potential problems with NOINPUT signatures and the need for safety measures. The differentiation between malicious and non-malicious double-spends was debated, with concerns raised about the risks associated with coins sent to the sender. The conversation emphasized the importance of implementing safety measures that are helpful in practical failure scenarios. It was suggested that a &quot;sig that commits to the input tx&quot; could be a standardness rule for NOINPUT.Anthony Towns proposed the concept of tagged outputs, called &quot;taproot plus,&quot; which would allow for the use of noinput signatures alongside normal taproot addresses. Different transaction structures were discussed, including cooperative claims, update transactions, settlement transactions, and trigger transactions. Concerns were raised about how to bind update transactions to the funding tx output if they are not tagged. Solutions such as storing multiple separate states or adding a trigger transaction were considered.ZmnSCPxj shared insights on the disadvantages of maximizing privacy, particularly in terms of performance and use with DLC. He suggested splitting a channel into high-activity LN payments and rare-activity DLC bets as a way to mitigate the potential issues.In a discussion on the Lightning-dev mailing list, ZmnSCPxj responds to AJ's post about the potential conflict between output tagging and Taproot. ZmnSCPxj raises the question of whether it is possible to hide the clause &quot;or a NOINPUT sig from A with a non-NOINPUT sig from B&quot; behind a Taproot. They also provide their thoughts on using scriptless scripts for HTLCs and bilateral/cooperative close when an HTLC is in-flight.The email proposes a way to enhance the security of the eltoo channel in Bitcoin by requiring every script to have a valid signature that commits to the input. However, this approach has some drawbacks such as revealing the taproot point and two keys, and additional script overhead. The email suggests that requiring a non-NOINPUT signature can provide a defense against third party malleability, unlike output tagging. They argue that even</summary>
  </entry>
</feed>