<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Benchmarking Bitcoin Script Evaluation for the Varops Budget (GSR)</title>
  <updated>2025-11-29T02:54:00.908509+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <thread>
    <message id="msg_1" depth="0" position="0">
      <author>Julian</author>
      <timestamp>2025-11-07 15:50:00+00:00</timestamp>
    </message>
    <message id="msg_2" depth="0" position="1">
      <author>Russell O'Connor'</author>
      <timestamp>2025-11-10 14:46:00+00:00</timestamp>
    </message>
    <message id="msg_3" depth="2" position="2" reply_to="Russell O'Connor'" parent_id="mailing-list-2025-11-md729a0aee56f6e493967b384f1ba6bb154df8482" anchor="m1e53ae4639eeb5ce799b49ba166fb0cefa993bb5">
      <author>Julian'</author>
      <timestamp>2025-11-28 13:09:00+00:00</timestamp>
    </message>
  </thread>
  <link href="bitcoin-dev/Nov_2025/m261c618a36d45632af2ccc820adb7e2bf24185ab_Benchmarking-Bitcoin-Script-Evaluation-for-the-Varops-Budget-GSR-.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2025/md729a0aee56f6e493967b384f1ba6bb154df8482_Benchmarking-Bitcoin-Script-Evaluation-for-the-Varops-Budget-GSR-.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2025/m1e53ae4639eeb5ce799b49ba166fb0cefa993bb5_Benchmarking-Bitcoin-Script-Evaluation-for-the-Varops-Budget-GSR-.xml" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - Benchmarking Bitcoin Script Evaluation for the Varops Budget (GSR)</title>
    <updated>2025-11-29T02:54:00.909221+00:00</updated>
    <link href="https://gnusha.org/pi/bitcoindev/5906e2bb-c215-44b0-bb61-0bb91d55717dn@googlegroups.com/T/#m1e53ae4639eeb5ce799b49ba166fb0cefa993bb5" rel="alternate"/>
    <published>2025-11-07 15:50:00+00:00</published>
    <summary>In an innovative step towards enhancing Bitcoin's security and efficiency, a new proposal introduces the concept of a generalized sigops budget, now termed as the varops budget. This initiative aims to preemptively allocate computational resources across all operations within the Bitcoin script execution process. By linking this budget to the transaction weight, it ensures a proportionate distribution of compute units, specifically allocating 5,200 units per weight unit of the transaction. This methodical allocation is designed to safeguard against denial-of-service attacks by preventing excessive computational time and memory usage before any computationally intensive operations are reinstated or other script limits are relaxed. The computation of the varops cost for each opcode is meticulously determined by considering the length of its arguments and the nature of its action on the data, such as copying, comparing, moving, performing hashing, or executing arithmetic operations. Further insights into this proposal can be explored in the Bitcoin Improvement Proposal (BIP) documented on GitHub, providing a comprehensive overview of the objectives and mechanisms underlying this approach ([view the BIP](https://github.com/rustyrussell/bips/blob/guilt/varops/bip-unknown-varops-budget.mediawiki)).
The discourse around blockchain development, especially pertaining to Bitcoin's scripting enhancements, delves into the complexities introduced by newer versions of script. It underscores the challenges of adding multiple dimensions of constraint to block assembly, which could potentially render the problem NP-hard. This complexity emerges prominently in the transition from tapscript (V1) to tarscript (V2), where tarscript V2 introduces a novel varops constraint alongside the existing sigops constraint, complicating the optimization process in block assembly. In contrast, Simplicity, another scripting language for blockchain, maintains a single dimension of constraint solving by employing a unified budget mechanism for cost calculations. This approach, inherited from tapscript V1, opts for static rather than dynamic computation of costs, highlighting a preference for simplicity and predictability over the dynamism of runtime evaluation. Such discussions illuminate the trade-offs between advancing functionality through additional constraints and preserving computational simplicity to avoid overcomplicating block assembly.
Further, in addressing technical specifics, the implementation details regarding the transition from SigVersion::TAPSCRIPT to SigVersion::TAPSCRIPT_V2 highlight a significant shift. The introduction of the varops budget replaces the original sigops constraint, necessitating adjustments in how costs are calculated and applied within the script evaluation process. This change aims to simplify and make more predictable the cost calculation process by proposing that the varops cost deduction occur irrespective of the outcome of checksig operations. However, this adjustment, along with the broader proposal, requires thorough review and validation. Community involvement is encouraged to support this initiative, particularly through running benchmarks using a prototype implementation available on GitHub ([check out the GSR prototype](https://github.com/jmoik/bitcoin/tree/gsr)). By enabling benchmarks and executing specified commands, contributors can generate pivotal data to refine and validate the proposed varops budget approach, ensuring its efficacy and alignment with the overarching goal of maintaining script execution time within acceptable limits.</summary>
  </entry>
</feed>