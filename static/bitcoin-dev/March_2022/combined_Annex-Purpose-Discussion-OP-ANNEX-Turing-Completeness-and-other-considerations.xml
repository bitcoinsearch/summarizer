<?xml version="1.0" ?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Annex Purpose Discussion: OP_ANNEX, Turing Completeness, and other considerations</title>
  <updated>2025-11-12T13:18:19.334405+00:00</updated>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <thread>
    <message id="msg_1" depth="0" position="0" anchor="m42ab9f6f014bdeb710ec688919b9061f3c24c9c9">
      <author>Jeremy Rubin</author>
      <timestamp>2022-03-04T23:21:00.000Z</timestamp>
    </message>
    <message id="msg_2" depth="1" position="1" reply_to="Jeremy Rubin" parent_id="mailing-list-2022-03-m42ab9f6f014bdeb710ec688919b9061f3c24c9c9" anchor="mf3031d478700a80130a376d47e3542e5585e5f17">
      <author>ZmnSCPxj</author>
      <timestamp>2022-03-04T23:33:00.000Z</timestamp>
    </message>
    <message id="msg_3" depth="1" position="2" reply_to="Jeremy Rubin" parent_id="mailing-list-2022-03-m42ab9f6f014bdeb710ec688919b9061f3c24c9c9" anchor="m8ad5c54fecaa7a72c9fc5d47c8485fbaceb15d7d">
      <author>Anthony Towns</author>
      <timestamp>2022-03-05T05:59:00.000Z</timestamp>
    </message>
    <message id="msg_4" depth="2" position="3" reply_to="Anthony Towns" parent_id="mailing-list-2022-03-m8ad5c54fecaa7a72c9fc5d47c8485fbaceb15d7d" anchor="m97e103ffada6e8835f08d14eb9fd6d63a4be0b9e">
      <author>Jeremy Rubin</author>
      <timestamp>2022-03-05T12:20:00.000Z</timestamp>
    </message>
    <message id="msg_5" depth="2" position="4" reply_to="ZmnSCPxj" parent_id="mailing-list-2022-03-mf3031d478700a80130a376d47e3542e5585e5f17" anchor="mc3c6f11a4320a80f704d793ee0b684a51c2b3038">
      <author>Christian Decker</author>
      <timestamp>2022-03-06T12:55:00.000Z</timestamp>
    </message>
    <message id="msg_6" depth="2" position="5" reply_to="Anthony Towns" parent_id="mailing-list-2022-03-m8ad5c54fecaa7a72c9fc5d47c8485fbaceb15d7d" anchor="mff059d40b57a9ccf79964d3cf0eb8f0944391bce">
      <author>Christian Decker</author>
      <timestamp>2022-03-06T13:12:00.000Z</timestamp>
    </message>
    <message id="msg_7" depth="3" position="6" reply_to="Christian Decker" parent_id="mailing-list-2022-03-mff059d40b57a9ccf79964d3cf0eb8f0944391bce" anchor="m8dcf72c958f0267fc7dfecf5c4f42593b5e679ab">
      <author>Jeremy Rubin</author>
      <timestamp>2022-03-06T13:21:00.000Z</timestamp>
    </message>
    <message id="msg_8" depth="1" position="7" reply_to="Jeremy Rubin" parent_id="mailing-list-2022-03-m42ab9f6f014bdeb710ec688919b9061f3c24c9c9" anchor="m8d8ad258d3e637bf32cfa645539f1672621a6b6c">
      <author>Antoine Riard</author>
      <timestamp>2022-03-07T00:59:00.000Z</timestamp>
    </message>
    <message id="msg_9" depth="3" position="8" reply_to="Jeremy Rubin" parent_id="mailing-list-2022-03-m97e103ffada6e8835f08d14eb9fd6d63a4be0b9e" anchor="m11b2680f88ff11af8c1d2327cdbc1b148fa76921">
      <author>Anthony Towns</author>
      <timestamp>2022-03-07T08:08:00.000Z</timestamp>
    </message>
  </thread>
  <link href="bitcoin-dev/March_2022/020072_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020074_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020066_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020064_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020063_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020048_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020047_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020046_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2022/020045_Annex-Purpose-Discussion-OP-ANNEX-Turing-Completeness-and-other-considerations.xml" rel="alternate"/>
  <link href="https://gnusha.org/url/https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-March/020045.html" rel="alternate"/>
  <link href="https://gnusha.org/url/https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-March/020045.html" rel="alternate"/>
  <link href="https://gnusha.org/url/https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-March/020045.html" rel="alternate"/>
  <entry>
    <id>2</id>
    <title>Combined summary - Annex Purpose Discussion: OP_ANNEX, Turing Completeness, and other considerations</title>
    <updated>2025-11-12T13:18:19.334835+00:00</updated>
    <link href="https://gnusha.org/url/https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-March/020045.html" rel="alternate"/>
    <published>2025-11-12T13:18:19.334847+00:00</published>
    <summary>A discussion has been taking place on the Bitcoin development mailing list regarding the use of annexes in transactions and their potential benefits. Annexes are reserved spaces for future extensions that can be analyzed immediately without knowing anything about the utxo being spent. One potential benefit is optimizing SIGHASH_GROUP to allow a group of inputs to claim a group of outputs for signing. However, there are concerns about using annexes, such as the potential for script fragments to require incompatible interpretations of the annex. Some suggest banning the OP_ANNEX opcode altogether.The discussion also touches on other topics, such as CLTV, CSV, and nLockTime. It is suggested that a way to access individual entries from the annex would be useful, but creating scripts with difficult solutions can be impractical. The annex could contain a short byte string indicating additional weight units, which would only increase the witness size by a few bytes.There is also debate about the purpose of the annex and its implications for the Bitcoin network. Some propose using it for transaction field extension or specifying per-input absolute locktimes. Others suggest soft-forking the annex out of the current Checksig and redesigning its usage later. The reservation of the annex ensures that new consensus rules can be immediately applied to utxos predating those rules without needing to update them on-chain first.Concerns are raised about third-party malleability in Bitcoin transactions when using the annex opcode. Suggestions are made to banish the OP_ANNEX opcode or find a way to make it third-party malleable-resistant. The use of OP_ANNEX is debated, with some arguing for its utility in increasing limits on SCRIPT execution and others pointing out its potential issues.Overall, the discussion revolves around the potential benefits and drawbacks of using annexes in transactions and their implications for the Bitcoin network. There are various suggestions and concerns regarding the usage and implementation of annexes, including optimizing SIGHASH_GROUP, addressing script compatibility issues, and ensuring security against third-party malleability.The Annex is a linearizable resource that can be used to reserve something like memory efficiently. One suggestion is to introduce OP_ANNEX, an opcode that would push the annex on the stack along with a 0 or 1 to differentiate it from no annex. This would allow for the Annex to be used as a register/tape for a computational model, making witness construction Turing complete. However, this conflicts with using the Annex to guess computation costs and raises issues with Miniscript, where multiple annex values may need to be pre-signed.To address these issues, one solution proposed is to soft-fork the Annex out and always set it equal to 0 until a specific use case is found. Another option is to make the Annex unobservable from the script but still serve as a hint for validation rules. However, before deciding on the use of the Annex, further discussion is needed to determine its purpose and constraints.</summary>
  </entry>
</feed>