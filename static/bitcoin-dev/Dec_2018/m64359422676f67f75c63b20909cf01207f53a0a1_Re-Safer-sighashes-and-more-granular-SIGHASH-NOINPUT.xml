<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Re: Safer sighashes and more granular SIGHASH_NOINPUT</title>
  <updated>2025-11-12T03:49:55.686275+00:00</updated>
  <author>
    <name>Johnson Lau 2018-12-20 19:34:00+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Re: Safer sighashes and more granular SIGHASH_NOINPUT</title>
    <updated>2025-11-12T03:49:55.686306+00:00</updated>
    <link href="https://gnusha.org/pi/bitcoindev/20181128140412.GC22873@mcelrath.org/T/#m64359422676f67f75c63b20909cf01207f53a0a1" rel="alternate"/>
    <summary>The discussion centers around the potential benefits and drawbacks of making scripts more compact, specifically in the context of Bitcoin's programming and proposed changes. The conversation points out an example from a GitHub issue comment ([see here](https://github.com/bitcoin/bitcoin/pull/11423issuecomment-333441321)) which suggests that while making scripts more compact could be advantageous, the example given may not be the best illustration of efficiency, especially considering taproot's ability to handle script merkle leaves differently.

Further elaboration touches on the current mechanism where `scriptCode` is truncated at the last executed `CODESEPARATOR`. This becomes particularly relevant in large scripts containing numerous `CODESEPARATOR`s and `CHECKSIG`s, leading to extensive hashing requirements. The introduction of `NOINPUT` with `MASKEDSCRIPT` proposes a change whereby the commitment would be to the hash of the masked script (`H(masked_script)`) rather than the hash of the entire script (`H(script)`). However, this raises concerns about the reliability of such a system. Specifically, if `NOINPUT` does not commit to `H(masked_script)`, it might instead commit to the position of the last executed `CODESEPARATOR`, a method seen as potentially unreliable due to the wallet's lack of awareness regarding the actual content of the script. The wallet might have to make assumptions about the script's structure based on the HD key path and the positioning of `CODESEPARATOR`s, which introduces uncertainty and sounds unreliable for robust scripting and transaction verification processes.</summary>
    <published>2018-12-20T19:34:00+00:00</published>
  </entry>
</feed>
